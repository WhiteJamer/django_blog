{% extends 'base.html' %}
{% block title%}Posts - {{block.super}}{%endblock%}

{% load static %}


{% block content %}

{% block js %}
    {{ block.super }}
    <script src="{% static '/js/el-pagination.js' %}"></script>
    <script>
        $.endlessPaginate({
            paginateOnScroll: true,
            paginateOnScrollMargin: 20
        });
    </script>
{% endblock %}


<form action="" class="mt-3">
  {% csrf_token %}
  <div class="form-row">
    <div class="col">
      <input type="text" name="q" placeholder="Search..." class="form-control">
    </div>
    <div class="col-1">
      <button type="submit" class="btn btn-primary form-control">Search</button>
    </div>
  </div>
</form>

<div class="row mt-3">
  <div class="col">
    <a href="{% url 'postmanager:post_add' %}" class="btn btn-primary form-control">Add new post</a>
  </div>
</div>
<div class="post_list mt-2">
<h1>All posts <span class="badge badge-secondary mb-2">{{posts.count}}</span></h1>
{% include 'postmanager/post_list_page.html' %}
</div>

{% endblock %}